# План автоматизации

## 1.Перечень автоматизируемых сценариев (Тестинг интерфейса, UI Testing.)

предусловие: открыта главная страница сайта 
ожидаемый результат: Приложение должно в собственной СУБД сохранять информацию о том, каким способом был совершён платёж 
и успешно ли он был совершён (при этом данные карт сохранять не допускается).


###   * Сценарий 1. Happy patch.

   - Приложение загрузилось на порту 8080
   - При нажатии кнопки “купить” происходит переход на страницу оплаты.
   - На странице оплаты вводятся валидные данные об оплате тура.
   - Приложение устанавливает контакт с сервисом платежей Payment Gate.
   - Приложение отправляет запрос на осуществление сделки в Payment Gate.
   - Приложение получает ответ на запрос и записывает эту информацию в свою СУБД (Поля: ID операции, дата транзакции (формат с минутами и секундами), 
     тип платежа, сумма, результат – подтверждена операция банковским сервисом или нет).
   - Тип платежа, сумма и результат в СУБД тестируемого сервиса идентичны типу платежа, сумме и результату в Банковском сервисе.
   - После валидации покупки банковским сервисом происходит переход на страницу «Поздравляем! Вы купили Марракеш!»


###   * Сценарий 2. Happy patch.

   - Приложение загрузилось на порту 8080
   - При нажатии кнопки “купить в кредит” происходит переход на страницу оплаты в кредит.
   - На странице оплаты в кредит вводятся валидные данные потенциального заемщика.
   - Приложение устанавливает контакт с сервисом платежей Credit Gate.
   - Приложение отправляет запрос на осуществление покупки в кредит в Credit Gate.
   - Приложение получает ответ на запрос и записывает эту информацию в свою СУБД (Поля: ID операции, дата транзакции (формат с минутами и секундами), 
     тип платежа, сумма, результат – подтверждена операция банковским сервисом или нет).
   - Тип платежа, сумма и результат в СУБД тестируемого сервиса идентичны типу платежа, сумме и результату в Банковском сервисе.
   - После валидации покупки банковским сервисом происходит переход на страницу «Поздравляем! Вы купили Марракеш!»

###  * Негативный сценарий.

   - Проверить реакцию системы на попытку использования отклоненной карты - покупка в таком случае не может быть успешно совершена, 
     тут проверяются случаи приобретения с использованием дебетовой карты и приобретение в кредит.
   - Проверить валидацию полей формы. Ввести невалидные значения по очереди в каждое поле формы. 
     Для подбора тестовых данных можно использовать методы эквивалентного разбиения и граничных значений.
     В текстовые поля можно попробовать вести спецсимволы и цифры, в цифровые - спецсимволы и текст. 
     Попробовать ввести длинные и короткие строки, логически невозможные значения, например 13 месяц, владелец по русски. 
     Поработать с датами, попробуйте прошлый месяц и дату более чем на шесть лет отстоящую от текущей. 
     Попробовать карту не из набора.
     попробовать пустые значения для всех полей и нули в цифровых полях по очереди и для двух случаев.


## 2. Перечень используемых инструментов с обоснованием выбора

    - Git и GitHub — хранение кода, в том числе автотестов;
    - JUnit4, JUnit5, TestNG — платформы для написания автотестов и их запуска;
    - Java 11 — язык написания автотестов;
    - Maven, Gradle — системы управления проектами
    - IntelliJ IDEA (среда разработки (комплекс программных средств, для написания, исполнения, отладки и оптимизации
      кода)
    - Selenium (инструмент для автоматизации действий веб-браузера)
    - протокол HTTP (инструмент (транспорт) для доставки информации от клиента к серверу при тестировании API)
    - Faker — библиотека, которая позволяет генерировать случайные данные. С ее помощью можно заполнить форму с данными для отправки, сформировать JSON-ответы для REST.
    - Проект Lombok — добавляет в Java новые «ключевые слова» и превращает аннотации в Java-код, 
      уменьшая усилия на разработку.
    - паттерн PageFactory — специальный объект или метод, занимающийся созданием и инициализацией объектов из классов.
    - репортинг - дает информацию о статусе продукта в данный момент (количество оставшихся неисправленных ошибок, 
      полностью ли протестирован продукт или требуется дополнительное тестирование 
    - Docker и Docker compose для запуска симулятора;
    
## 3. Перечень и описание возможных рисков при автоматизации

    - проблемы с поиском локаторов: с помощью локатора на странице можно найти элементы. Если возможно, лучше использовать CSS (набор уникальных атрибутов элемента), 
      в случае использования XPath (путь к элементу) может возникнуть риск того, что пучть изменится и элемент не будет найден 
    - опасность уронить сайт, 
    - изменение структуры сайта в ходе реализации проекта.

## 4. Интервальная оценка с учётом рисков (в часах)

    - 160 часов

## 5. План сдачи работ (когда будут авто-тесты, результаты их прогона и отчёт по автоматизации)
    - написание плана до 13.05.2022
    - проверить поддержку двух СУБД: MySQL и PostgreSQL до 17.05.2022
    - написание автотестов покупки тура  до 27.05.2022
    - Подготовке отчётных документов по итогам автоматизированного тестирования  до 30.05.2022
    - Подготовка отчётных документов по итогам автоматизации   до 04.06.2022