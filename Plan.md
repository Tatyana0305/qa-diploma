# План автоматизации

## 1.Перечень автоматизируемых сценариев (Тестинг интерфейса, UI Testing.)

предусловие: Приложение загрузилось на порту 8080, открыта страница покупки тура в Марракеш (http://localhost:8080/)

ожидаемый результат: Приложение должно в собственной СУБД сохранять информацию о том, каким способом был совершён платёж
и успешно ли он был совершён (при этом данные карт сохранять не допускается).

К валидным данным относятся:

1. Номер карты из 16 цифр
2. Поле владелец карты: фамилия, имя латинскими буквами, не пустое поле
3. Срок действия карты:

- месяц 01-12, не ранее текущего, если используется текущий год
- год из двух цифр, не ранее текущего

4. Код CVC из трех цифр, не все нули

###    * Сценарий 1.1. Happy patch. Оплата по карте со статусом APPROVED

- Нажать кнопку "Купить"
- Ввести номер карты 4444 4444 4444 4441, остальные поля заполнены валидными данными (например, Месяц - 09, Год - 24,
  Владелец - Petrov Ivan, CVC/CVV - 123)
- Нажать кнопку "Продолжить"
- Ожидаемый результат: появилось всплывающее окно "Операция одобрена Банком", в БД в payment_entity появилась запись со
  статусом APPROVED

###    * Сценарий 1.2. Happy patch. Кредит по данным карты со статусом APPROVED

- Нажать кнопку "Купить в кредит"
- Ввести номер карты 4444 4444 4444 4441, остальные поля заполнены валидными данными (например, Месяц - 09, Год - 24,
  Владелец - Petrov Ivan, CVC/CVV - 123)
- Нажать кнопку "Продолжить"
- Ожидаемый результат: появилось всплывающее окно "Операция одобрена Банком", в БД в payment_entity появилась запись со
  статусом APPROVED

###    * Сценарий 1.3. Happy patch. Оплата по карте со статусом DECLINED

- Нажать кнопку "Купить"
- Номер карты 4444 4444 4444 4442, остальные поля заполнены корректными значениями (например, Месяц - 09, Год - 24,
  Владелец - Petrov Ivan, CVC/CVV - 123)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###    * Сценарий 1.4. Happy patch. Кредит по данным карты со статусом DECLINED

- Нажать кнопку "Купить в кредит"
- Номер карты 4444 4444 4444 4442, остальные поля заполнены корректными значениями (например, Месяц - 09, Год - 24,
  Владелец - Petrov Ivan, CVC/CVV - 123)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.1.  (пустые поля)

- Нажать кнопку "Купить"
- Оставить все поля пустыми
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.2.  (пустые поля)

- Нажать кнопку "Купить в кредит"
- Оставить все поля пустыми
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.3.  (нули в номере карты)

- Нажать кнопку "Купить"
- Номер карты 0000 0000 0000 0000, остальные поля заполнены корректными значениями (например, Месяц - 09, Год - 24,
  Владелец - Petrov Ivan, CVC/CVV - 123)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.4.  (нули в номере карты)

- Нажать кнопку "Купить в кредит"
- Номер карты 0000 0000 0000 0000, остальные поля заполнены корректными значениями (например, Месяц - 09, Год - 24,
  Владелец - Petrov Ivan, CVC/CVV - 123)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.5.  (символы в номере карты)

- Нажать кнопку "Купить"
- Номер карты заполнить символами, например, ++++ ++++ ++++ ++++, остальные поля заполнены корректными значениями (
  например, Месяц - 09, Год - 24, Владелец - Petrov Ivan, CVC/CVV - 123
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.6.  (символы в номере карты)

- Нажать кнопку "Купить в кредит"
- Номер карты заполнить символами, например, ++++ ++++ ++++ ++++, остальные поля заполнены корректными значениями (
  например, Месяц - 09, Год - 24, Владелец - Petrov Ivan, CVC/CVV - 123
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.7.  (буквы в номере карты)

- Нажать кнопку "Купить"
- Номер карты заполнить буквами, например, "ssss ssss ssss ssss ssss", остальные поля заполнены корректными значениями (
  например, Месяц - 09, Год - 24, Владелец - Petrov Ivan, CVC/CVV - 123)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.8.  (буквы в номере карты)

- Нажать кнопку "Купить в кредит"
- Номер карты заполнить буквами, например, "ssss ssss ssss ssss ssss", остальные поля заполнены корректными значениями (
  например, Месяц - 09, Год - 24, Владелец - Petrov Ivan, CVC/CVV - 123)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.9.  (пустой номер карты)

- Нажать кнопку "Купить в кредит"
- Оставить поле номер карты пустым, остальные поля заполнены корректными значениями (например, Месяц - 09, Год - 24,
  Владелец - Petrov Ivan, CVC/CVV - 123)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.10.  (пустой номер карты)

- Нажать кнопку "Купить"
- Оставить поле номер карты пустым, остальные поля заполнены корректными значениями (например, Месяц - 09, Год - 24,
  Владелец - Petrov Ivan, CVC/CVV - 123)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.11.  (срок действия карты)

- Нажать кнопку "Купить"
- Срок действия карты текущий год и прошедший месяц, остальные поля заполнены корректными значениями (например, Владелец
  - Petrov Ivan, CVC/CVV – 123, номер карты 4444 4444 4444 4441
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.12.  (срок действия карты)

- Нажать кнопку "Купить в кредит"
- Срок действия карты текущий год и прошедший месяц, остальные поля заполнены корректными значениями (например, Владелец
  - Petrov Ivan, CVC/CVV – 123, номер карты 4444 4444 4444 4441
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.13.  (срок действия карты)

- Нажать кнопку "Купить"
- Срок действия карты прошлый год и любой месяц, остальные поля заполнены корректными значениями (например, Владелец -
  Petrov Ivan, CVC/CVV – 123, номер карты 4444 4444 4444 4441
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.14.  (срок действия карты)

- Нажать кнопку "Купить в кредит"
- Срок действия карты прошлый год и любой месяц, остальные поля заполнены корректными значениями (например, Владелец -
  Petrov Ivan, CVC/CVV – 123, номер карты 4444 4444 4444 4441
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.15.  (срок действия карты)

- Нажать кнопку "Купить"
- Срок действия карты 12 год и любой месяц, остальные поля заполнены корректными значениями (например, Владелец - Petrov
  Ivan, CVC/CVV – 123, номер карты 4444 4444 4444 4441)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.16.  (срок действия карты)

- Нажать кнопку "Купить в кредит"
- Срок действия карты 12 год и любой месяц, остальные поля заполнены корректными значениями (например, Владелец - Petrov
  Ivan, CVC/CVV – 123, номер карты 4444 4444 4444 4441)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.17.  (срок действия карты)

- Нажать кнопку "Купить"
- Срок действия карты 24 год и 13 месяц, остальные поля заполнены корректными значениями (например, Владелец - Petrov
  Ivan, CVC/CVV – 123, номер карты 4444 4444 4444 4441)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.18.  (срок действия карты)

- Нажать кнопку "Купить в кредит"
- Срок действия карты 24 год и 13 месяц, остальные поля заполнены корректными значениями (например, Владелец - Petrov
  Ivan, CVC/CVV – 123, номер карты 4444 4444 4444 4441)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.19.  (пустой срок действия карты)

- Нажать кнопку "Купить"
- Срок действия карты год пустой и 12 месяц, остальные поля заполнены корректными значениями (например, Владелец -
  Petrov Ivan, CVC/CVV – 123, номер карты 4444 4444 4444 4441)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.20.  (пустой срок действия карты)

- Нажать кнопку "Купить в кредит"
- Срок действия карты год пустой и 12 месяц, остальные поля заполнены корректными значениями (например, Владелец -
  Petrov Ivan, CVC/CVV – 123, номер карты 4444 4444 4444 4441)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.21.  (пустой срок действия карты)

- Нажать кнопку "Купить"
- Срок действия карты текущий год и пустой месяц, остальные поля заполнены корректными значениями (например, Владелец -
  Petrov Ivan, CVC/CVV – 123, номер карты 4444 4444 4444 4441)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.22.  (пустой срок действия карты)

- Нажать кнопку "Купить в кредит"
- Срок действия карты текущий год и пустой месяц, остальные поля заполнены корректными значениями (например, Владелец -
  Petrov Ivan, CVC/CVV – 123, номер карты 4444 4444 4444 4441)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.23.  (код CVC)

- Нажать кнопку "Купить"
- CVC код 000, остальные поля заполнены корректными значениями (например, Владелец - Petrov Ivan, номер карты 4444 4444
  4444 4441, Месяц - 09, Год - 24)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.24.  (код CVC)

- Нажать кнопку "Купить в кредит"
- CVC код 000, остальные поля заполнены корректными значениями (например, Владелец - Petrov Ivan, номер карты 4444 4444
  4444 4441, Месяц - 09, Год - 24)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.25.  (код CVC)

- Нажать кнопку "Купить"
- CVC код +++, остальные поля заполнены корректными значениями (например, Владелец - Petrov Ivan, номер карты 4444 4444
  4444 4441, Месяц - 09, Год - 24)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.26.  (код CVC)

- Нажать кнопку "Купить в кредит"
- CVC код +++, остальные поля заполнены корректными значениями (например, Владелец - Petrov Ivan, номер карты 4444 4444
  4444 4441, Месяц - 09, Год - 24)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.27.  (код CVC)

- Нажать кнопку "Купить"
- CVC код QQQ, остальные поля заполнены корректными значениями (например, Владелец - Petrov Ivan, номер карты 4444 4444
  4444 4441, Месяц - 09, Год - 24)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.28.  (код CVC)

- Нажать кнопку "Купить в кредит"
- CVC код QQQ, остальные поля заполнены корректными значениями (например, Владелец - Petrov Ivan, номер карты 4444 4444
  4444 4441, Месяц - 09, Год - 24)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.29.  (пустой код CVC)

- Нажать кнопку "Купить"
- CVC код пустой, остальные поля заполнены корректными значениями (например, Владелец - Petrov Ivan, номер карты 4444 4444
  4444 4441, Месяц - 09, Год - 24)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.30.  (пустой код CVC)

- Нажать кнопку "Купить в кредит"
- CVC код пустой, остальные поля заполнены корректными значениями (например, Владелец - Petrov Ivan, номер карты 4444 4444
  4444 4441, Месяц - 09, Год - 24)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.31.  (ФИО)

- Нажать кнопку "Купить"
- Фамилия, имя заполнены русскими буквами, например, Петров Иван, остальные поля заполнены корректными значениями (
  например, CVC/CVV – 123, номер карты 4444 4444 4444 4441, Месяц - 09, Год - 24)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.32.  (ФИО)

- Нажать кнопку "Купить в кредит"
- Фамилия, имя заполнены русскими буквами, например, Петров Иван, остальные поля заполнены корректными значениями (
  например, CVC/CVV – 123, номер карты 4444 4444 4444 4441, Месяц - 09, Год - 24)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.33.  (ФИО)

- Нажать кнопку "Купить"
- Фамилия, имя заполнены цифрами, например, 111 1111, остальные поля заполнены корректными значениями (например, CVC/CVV
  – 123, номер карты 4444 4444 4444 4441, Месяц - 09, Год - 24)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.34.  (ФИО)

- Нажать кнопку "Купить в кредит"
- Фамилия, имя заполнены цифрами, например, 111 1111, остальные поля заполнены корректными значениями (например, CVC/CVV
  – 123, номер карты 4444 4444 4444 4441, Месяц - 09, Год - 24)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.35.  (ФИО)

- Нажать кнопку "Купить"
- Фамилия, имя заполнены символами, например, +++ ++++, остальные поля заполнены корректными значениями (например,
  CVC/CVV – 123, номер карты 4444 4444 4444 4441, Месяц - 09, Год - 24)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.36.  (ФИО)

- Нажать кнопку "Купить в кредит"
- Фамилия, имя заполнены символами, например, +++ ++++, остальные поля заполнены корректными значениями (например,
  CVC/CVV – 123, номер карты 4444 4444 4444 4441, Месяц - 09, Год - 24)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED


###   * Негативный сценарий 2.37.  (пустые ФИО)

- Нажать кнопку "Купить"
- Фамилия, имя незаполнены, остальные поля заполнены корректными значениями (например,
  CVC/CVV – 123, номер карты 4444 4444 4444 4441, Месяц - 09, Год - 24)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED


###   * Негативный сценарий 2.38.  (пустые ФИО)

- Нажать кнопку "Купить в кредит"
- Фамилия, имя незаполнены, остальные поля заполнены корректными значениями (например,
  CVC/CVV – 123, номер карты 4444 4444 4444 4441, Месяц - 09, Год - 24)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

###   * Негативный сценарий 2.39.  (карта не из набора)

- Нажать кнопку "Купить"
- Номер карты заполнить цифрами, например, 2222 2222 2222 2222, остальные поля заполнены корректными значениями (
  например, Месяц - 09, Год - 24, Владелец - Petrov Ivan, CVC/CVV - 123)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
  появилась запись со статусом DECLINED

###   * Негативный сценарий 2.40.  (карта не из набора)

- Нажать кнопку "Купить в кредит"
- Номер карты заполнить цифрами, например, 2222 2222 2222 2222, остальные поля заполнены корректными значениями (
  например, Месяц - 09, Год - 24, Владелец - Petrov Ivan, CVC/CVV - 123)
- Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
  credit_request_entity появилась запись со статусом DECLINED

## 2. Перечень используемых инструментов с обоснованием выбора

   - Git и GitHub — хранение кода, в том числе автотестов;
   - JUnit4, JUnit5, TestNG — платформы для написания автотестов и их запуска;
   - Java 11 — язык написания автотестов;
   - Maven, Gradle — системы управления проектами
   - IntelliJ IDEA (среда разработки (комплекс программных средств, для написания, исполнения, отладки и оптимизации
     кода)
   - Selenium (инструмент для автоматизации действий веб-браузера)
   - протокол HTTP (инструмент (транспорт) для доставки информации от клиента к серверу при тестировании API)
   - Faker — библиотека, которая позволяет генерировать случайные данные. С ее помощью можно заполнить форму с данными для отправки, сформировать JSON-ответы для REST.
   - Проект Lombok — добавляет в Java новые «ключевые слова» и превращает аннотации в Java-код, 
     уменьшая усилия на разработку.
   - паттерн PageFactory — специальный объект или метод, занимающийся созданием и инициализацией объектов из классов.
   - репортинг (Allure) - дает информацию о статусе продукта в данный момент (количество оставшихся неисправленных ошибок, 
     полностью ли протестирован продукт или требуется дополнительное тестирование 
   - Docker и Docker compose для запуска симулятора;

## 3. Перечень и описание возможных рисков при автоматизации
   - проблемы с поиском локаторов: с помощью локатора на странице можно найти элементы. Если возможно, лучше использовать CSS (набор уникальных атрибутов элемента), 
     в случае использования XPath (путь к элементу) может возникнуть риск того, что пучть изменится и элемент не будет найден 
   - опасность уронить сайт, 
   - изменение структуры сайта в ходе реализации проекта.
   - нет технической документации, поэтому трудно понять какое действие системы считать нормой, 
     например, какие требования к полям ввода данных, какие сообщения должны высвечиваться при корректном вводе данных и некорректном 

## 4. Интервальная оценка с учётом рисков (в часах)

   - 160 часов

## 5. План сдачи работ (когда будут авто-тесты, результаты их прогона и отчёт по автоматизации)

   - написание плана до 13.05.2022
   - проверить поддержку двух СУБД: MySQL и PostgreSQL до 17.05.2022
   - написание автотестов покупки тура  до 27.05.2022
   - Подготовке отчётных документов по итогам автоматизированного тестирования  до 30.05.2022
   - Подготовка отчётных документов по итогам автоматизации   до 04.06.2022
